(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(3),o=a.n(r);a(13);const l=Object(n.createContext)({city:"",setCity:()=>{}});function s(e){let{data:t}=e;return c.a.createElement("div",{className:"weather-column fade-in"},c.a.createElement("h2",null,"Current Weather in ",t.location.name),c.a.createElement("p",null,t.current.condition.text),c.a.createElement("p",null,"Temperature: ",t.current.temp_c,"\xb0C"),c.a.createElement("a",{href:"https:".concat(t.current.condition.icon),target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:"https:".concat(t.current.condition.icon),alt:"Weather Icon"})))}function i(e){let{data:t}=e;return c.a.createElement("div",{className:"weather-column fade-in"},c.a.createElement("h2",null,"3-Day Forecast"),t.map(e=>c.a.createElement("div",{key:e.date},c.a.createElement("h3",null,e.date),c.a.createElement("p",null,e.day.condition.text),c.a.createElement("p",null,"Max: ",e.day.maxtemp_c,"\xb0C, Min: ",e.day.mintemp_c,"\xb0C"),c.a.createElement("a",{href:"https:".concat(e.day.condition.icon),target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:"https:".concat(e.day.condition.icon),alt:"Forecast Icon"})))))}function m(e){let{phase:t}=e;const a="/web_weather_react/"+({"New Moon":"images/new_moon.png","Waxing Crescent":"images/waxing_crescent.png","First Quarter":"images/first_quarter.png","Waxing Gibbous":"images/waxing_gibbous.png","Full Moon":"images/full_moon.png","Waning Gibbous":"images/waning_gibbous.png","Last Quarter":"images/last_quarter.png","Waning Crescent":"images/waning_crescent.png"}[t]||"images/new_moon.png");return c.a.createElement("img",{src:a,alt:t,style:{width:"100px",marginTop:"10px"}})}function u(e){let{shown:t,astro:a,onFetch:n}=e;return c.a.createElement("div",{className:"moon-container fade-in ".concat(t?"visible":"")},!t&&c.a.createElement("button",{onClick:n,className:"button"},"Get Moon Phase"),a&&c.a.createElement("div",null,c.a.createElement("h2",null,"Astronomy Info"),c.a.createElement("p",null,"Sunrise: ",a.sunrise),c.a.createElement("p",null,"Sunset: ",a.sunset),c.a.createElement("p",null,"Moon Phase: ",a.moon_phase),c.a.createElement(m,{phase:a.moon_phase})))}function h(e){let{shown:t,url:a,onFetch:n}=e;return c.a.createElement("div",{className:"map-container fade-in ".concat(t?"visible":"")},!t&&c.a.createElement("button",{onClick:n,className:"button"},"Get City Map"),a&&c.a.createElement("div",null,c.a.createElement("h2",null,"City Map"),c.a.createElement("iframe",{title:"City Map",width:"100%",height:"400px",src:a,frameBorder:"0",style:{border:0,maxWidth:"100%",maxHeight:"400px"}})))}const p="0c1f5b63c503484797d122658250704",d="https://api.weatherapi.com/v1";function E(){const{city:e,setCity:t}=Object(n.useContext)(l),{currentWeather:a,forecast:r,astro:o,mapUrl:m,moonShown:E,mapShown:w,fetchWeather:f,fetchMoon:g,fetchMap:y}=function(){const{city:e}=Object(n.useContext)(l),[t,a]=Object(n.useState)(null),[c,r]=Object(n.useState)([]),[o,s]=Object(n.useState)(null),[i,m]=Object(n.useState)(!1),[u,h]=Object(n.useState)(!1),[E,w]=Object(n.useState)("");return{currentWeather:t,forecast:c,astro:o,moonShown:i,mapShown:u,mapUrl:E,fetchWeather:async()=>{if(!e)return alert("Please enter a city.");const t=await fetch("".concat(d,"/current.json?key=").concat(p,"&q=").concat(e)),n=await t.json();if(!n.location||!n.current)return void alert("City not found. Please check the name and try again.");a(n);const c=await fetch("".concat(d,"/forecast.json?key=").concat(p,"&q=").concat(e,"&days=3")),o=await c.json();o.forecast?(r(o.forecast.forecastday),s(null),m(!1),h(!1),w("")):alert("Forecast data not available.")},fetchMoon:async()=>{const t=(new Date).toISOString().split("T")[0],a=await fetch("".concat(d,"/astronomy.json?key=").concat(p,"&q=").concat(e,"&dt=").concat(t)),n=await a.json();s(n.astronomy.astro),m(!0)},fetchMap:async()=>{const t=await fetch("".concat(d,"/current.json?key=").concat(p,"&q=").concat(e)),a=await t.json(),{lat:n,lon:c}=a.location,r="https://www.openstreetmap.org/export/embed.html?bbox=".concat(c-.1,",").concat(n-.1,",").concat(c+.1,",").concat(n+.1,"&layer=mapnik&marker=").concat(c,",").concat(n);w(r),h(!0)}}}();return c.a.createElement("div",{id:"app"},c.a.createElement("h1",{className:"weather-title"},"Weather App"),c.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"weather-input",placeholder:"Enter city"}),c.a.createElement("button",{onClick:f,className:"button"},"Get Weather"),a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"weather-column"},c.a.createElement(s,{data:a}),c.a.createElement(i,{data:r})),c.a.createElement("div",{className:"weather-column"},c.a.createElement(u,{shown:E,astro:o,onFetch:g}),c.a.createElement(h,{shown:w,url:m,onFetch:y}))))}const w=()=>{const[e,t]=Object(n.useState)("");return c.a.createElement(l.Provider,{value:{city:e,setCity:t}},c.a.createElement(E,null))};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)))},4:function(e,t,a){e.exports=a(14)}},[[4,1,2]]]);
//# sourceMappingURL=main.63fc8d12.chunk.js.map